input {
    jdbc {
        jdbc_password => "system"      
		jdbc_driver_library => "mysql-connector-java-5.1.36-bin.jar"
		jdbc_driver_class => "com.mysql.jdbc.Driver"
		jdbc_connection_string => "jdbc:mysql://35.193.101.77:3306/root"
		jdbc_user => "mysql1"
	
        #schedule => "*/5 * * * *"
        statement => "SELECT
    indv_id,
    case_num,
    last_name,
    first_name,
    policy_year,
    other_income_amt,
    us_citizen_sw,
    residency_state_cd,
    prog_cd,
    aid_request_sw,
    active_in_case_sw
FROM
    ai_data_feed_v2
	 where updated_timestamp > sysdate-1/24"
      
        
    }    
}
output {
    stdout{}
	
	elasticsearch {
		id => "es-fraud-detect-v1"
		hosts => "localhost:9200"
		http_compression => true
		index => "es_fraud_detect_v1"
		document_type => "doc"	
		document_id => "%{[case_num]}_%{[indv_id]}_%{[policy_year]}"		
		
}
}